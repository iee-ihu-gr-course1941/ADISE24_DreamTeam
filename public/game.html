<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tetris Player Boxes</title>
  <link rel="stylesheet" href="css/game/player_box.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" href="css/game/board.css"> -->
  <link rel="icon" href="assets/icon.ico" type="image/ico"> <!-- Favicon icon -->
  
  </head>
    <style>
    /* Style for the board grid */
    #blokus-board {
      display: grid;
      grid-template-columns: repeat(20, 30px); /* 20 columns with fixed cell width */
      grid-template-rows: repeat(20, 30px); /* 20 rows with fixed cell height */
      gap: 1px; /* Gap between cells */
      justify-content: center;
      align-items: center;
    }

    /* Style for each cell */
    .cell {
      width: 30px;
      height: 30px;
      box-sizing: border-box; /* Include border in size */
      border: 1px solid black;
    }

    /* Background colors for cells */
    .bg-white {
      background-color: white;
    }

    .bg-red {
      background-color: red;
    }
  </style>
  </head>
  <body>
  <div class="container mt-5">
    <h1 class="text-center">Blokus Board</h1>
    <div id="blokus-board"></div> <!-- Board will be rendered here -->
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
        // Fetch the board data from the API
        fetch('https://users.iee.ihu.gr/~iee2020202/ADISE24_DreamTeam/blokus.php/boards/14')
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Parse each string row in the board into an actual array
                    const parsedBoard = data.board.map(row => JSON.parse(row));
                    renderBoard(parsedBoard);
                } else {
                    console.error('Error fetching board:', data.message);
                }
            })
            .catch(error => console.error('Error loading board data:', error));
    });

    // Function to render the board
    function renderBoard(board) {
        const boardContainer = document.getElementById('blokus-board');
        boardContainer.innerHTML = ''; // Clear the container before rendering

        // Loop through each row and cell in the board
        board.forEach(row => {
            row.forEach(cell => {
                const cellDiv = document.createElement('div');
                cellDiv.classList.add('cell'); // Add the base cell class

                // Add the appropriate background color based on the cell value
                if (cell === 0) {
                    cellDiv.classList.add('bg-white'); // White for 0
                } else if (cell === 1) {
                    cellDiv.classList.add('bg-red'); // Red for 1
                }

                boardContainer.appendChild(cellDiv); // Add the cell to the board container
            });
        });
    }
  </script>
  </body>
</html>
